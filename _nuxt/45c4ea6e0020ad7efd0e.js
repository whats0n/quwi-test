(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{163:function(t,e,n){var content=n(170);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("74172497",content,!0,{sourceMap:!1})},164:function(t,e,n){var content=n(173);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("7834d9df",content,!0,{sourceMap:!1})},165:function(t,e,n){var content=n(175);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("05249697",content,!0,{sourceMap:!1})},166:function(t,e,n){"use strict";var r=n(64),o=n.n(r),l=n(167),d=l.a.token,c=l.a.baseApiURL;e.a=d?o.a.create({baseURL:c,headers:{Authorization:"Bearer ".concat(d)}}):o.a.create({baseURL:c})},167:function(t,e,n){"use strict";e.a={baseApiURL:"https://api.quwi.com/v2/",token:window.localStorage.getItem("token"),checkAuthorization:function(t){window.localStorage.getItem("token")?t():window.location.href="/login"}}},168:function(t,e,n){"use strict";var r={name:"Button",data:function(){return{}}},o=(n(172),n(16)),component=Object(o.a)(r,function(){var t=this.$createElement;return(this._self._c||t)("button",this._g({staticClass:"btn"},this.$listeners),[this._t("default",[this._v("Button")])],2)},[],!1,null,null,null);e.a=component.exports},169:function(t,e,n){"use strict";var r=n(163);n.n(r).a},170:function(t,e,n){(t.exports=n(45)(!1)).push([t.i,".field__label{font-size:16px;font-weight:500px}.field__label:not(:last-child){margin-bottom:8px}",""])},171:function(t,e,n){var content=n(182);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("52d47d39",content,!0,{sourceMap:!1})},172:function(t,e,n){"use strict";var r=n(164);n.n(r).a},173:function(t,e,n){(t.exports=n(45)(!1)).push([t.i,".btn{box-sizing:border-box;outline:none;padding:10px 24px;border:none;border-radius:3px;background:#d9d9d9;font-size:16px;line-height:20px;cursor:pointer}.btn:active{background:silver}",""])},174:function(t,e,n){"use strict";var r=n(165);n.n(r).a},175:function(t,e,n){(t.exports=n(45)(!1)).push([t.i,".input{box-sizing:border-box;outline:none;padding:0 15px;border:1px solid #333;border-radius:3px;width:100%;height:40px;font-size:16px;line-height:normal;transition:border-color .25s,box-shadow .25s}.input:focus{box-shadow:0 0 2px 2px rgba(51,51,51,.1)}.input.is-error{border-color:red}",""])},176:function(t,e,n){var content=n(184);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("3e632332",content,!0,{sourceMap:!1})},179:function(t,e,n){"use strict";var r={name:"Field",props:{label:{type:String,default:null}}},o=(n(169),n(16)),component=Object(o.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[this.label?e("div",{staticClass:"field__label"},[this._v("\n    "+this._s(this.label)+"\n  ")]):this._e(),this._v(" "),e("div",{staticClass:"field__container"},[this._t("default")],2)])},[],!1,null,null,null);e.a=component.exports},180:function(t,e,n){"use strict";var r={name:"Input",model:{event:"modelChange",prop:"value"},props:{type:{type:String,default:"text"},value:{type:String,default:""}},methods:{handleInput:function(t){this.$emit("modelChange",t.target.value),this.$emit("input",t)}}},o=(n(174),n(16)),component=Object(o.a)(r,function(){var t=this.$createElement;return(this._self._c||t)("input",this._g({staticClass:"input",attrs:{type:this.type},domProps:{value:this.value},on:{input:this.handleInput}},this.$listeners))},[],!1,null,null,null);e.a=component.exports},181:function(t,e,n){"use strict";var r=n(171);n.n(r).a},182:function(t,e,n){(t.exports=n(45)(!1)).push([t.i,".error-message{padding:12px;border:1px solid #fcc;border-radius:3px;background:#ffe6e6;font-size:14px;line-height:1.2}",""])},183:function(t,e,n){"use strict";var r=n(176);n.n(r).a},184:function(t,e,n){(t.exports=n(45)(!1)).push([t.i,"body{font-family:Roboto,sans-serif}body *{font-family:inherit}.form{padding:40px 20px;margin:0 auto;max-width:420px}.form__title{font-size:32px;font-weight:700}.form__title:not(:last-child){margin-bottom:32px}.form__field:not(:last-child){margin-bottom:24px}.form__error-message:not(:last-child){margin-bottom:20px}",""])},193:function(t,e,n){"use strict";n.r(e);n(29);var r=n(166),o=n(179),l={name:"ErrorMessage",props:{message:{type:String,default:null}}},d=(n(181),n(16)),c=Object(d.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return this.message?e("div",{staticClass:"error-message",domProps:{innerHTML:this._s(this.message)}}):this._e()},[],!1,null,null,null).exports,f=n(168),h=n(180),m={components:{Field:o.a,ErrorMessage:c,Button:f.a,Input:h.a},data:function(){return{errorMessage:null,email:{valid:!0,value:"",name:"email"},password:{valid:!0,value:"",name:"password"},response:null}},methods:{handleFocus:function(t){this[t].valid=!0},handleBlur:function(t){this.handleValidation(t),this.setClientErrorMessage()},handleValidation:function(t){var e;t===this.email.name?this.email.valid=(e=this.email.value,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)):t===this.password.name&&(this.password.valid=function(t){return t&&t.length}(this.password.value))},handleSubmit:function(){var t=this;this.handleValidation(this.email.name),this.handleValidation(this.password.name),this.setClientErrorMessage(),this.email.valid&&this.password.valid&&r.a.post("auth/login",{email:this.email.value,password:this.password.value}).then(function(e){var data=e.data;t.response=data,window.localStorage.setItem("token",data.token),window.location.href=window.location.origin}).catch(function(e){var n=e.response;n&&n.data&&n.data.first_errors?t.setServerErrorMessage(n.data.first_errors):t.errorMessage="Something went wrong"})},setClientErrorMessage:function(){this.errorMessage=this.email.valid||this.password.valid?this.email.valid?this.password.valid?null:"Wrong password field.":"Wrong e-mail field.":"Wrong e-mail and password fields."},setServerErrorMessage:function(t){var e="";for(var n in t){var r=t[n];this[n].valid=!1,e+=e.length?"<br>".concat(r):r}this.errorMessage=e}}},v=(n(183),Object(d.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form",attrs:{action:"POST"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("div",{staticClass:"form__title"},[t._v("\n    Login\n  ")]),t._v(" "),n("Field",{staticClass:"form__field",attrs:{label:"Email:"}},[n("Input",{staticClass:"input",class:{"is-error":!t.email.valid},attrs:{type:"text",placeholder:"Enter your e-mail address"},on:{focus:function(e){return t.handleFocus(t.email.name)},blur:function(e){return t.handleBlur(t.email.name)}},model:{value:t.email.value,callback:function(e){t.$set(t.email,"value",e)},expression:"email.value"}})],1),t._v(" "),n("Field",{staticClass:"form__field",attrs:{label:"Password:"}},[n("Input",{staticClass:"input",class:{"is-error":!t.password.valid},attrs:{type:"password",placeholder:"Enter your password"},on:{focus:function(e){return t.handleFocus(t.password.name)},blur:function(e){return t.handleBlur(t.password.name)}},model:{value:t.password.value,callback:function(e){t.$set(t.password,"value",e)},expression:"password.value"}})],1),t._v(" "),n("ErrorMessage",{staticClass:"form__error-message",attrs:{message:t.errorMessage}}),t._v(" "),n("Button",{attrs:{type:"submit"}},[t._v("\n    Sign In\n  ")])],1)},[],!1,null,null,null));e.default=v.exports}}]);